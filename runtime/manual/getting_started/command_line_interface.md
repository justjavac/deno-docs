---
sidebar_position: 4
---

# å‘½ä»¤è¡Œç•Œé¢

Deno æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œç¨‹åºã€‚åœ¨è·Ÿéšç¤ºä¾‹å¹¶å·²ç»äº†è§£äº† Shell
çš„åŸºç¡€çŸ¥è¯†åï¼Œæ‚¨åº”è¯¥ç†Ÿæ‚‰ä¸€äº›ç®€å•çš„å‘½ä»¤ã€‚

æŸ¥çœ‹ä¸»è¦å¸®åŠ©æ–‡æœ¬çš„å¤šç§æ–¹æ³•ï¼š

```shell
# ä½¿ç”¨å­å‘½ä»¤ã€‚
deno help

# ä½¿ç”¨çŸ­æ ‡å¿— -- è¾“å‡ºä¸ä¸Šè¿°ç›¸åŒçš„å†…å®¹ã€‚
deno -h

# ä½¿ç”¨é•¿æ ‡å¿— -- è¾“å‡ºæ›´è¯¦ç»†çš„å¸®åŠ©æ–‡æœ¬ï¼ˆå¦‚æœå¯ç”¨ï¼‰ã€‚
deno --help
```

Deno çš„ CLI åŸºäºå­å‘½ä»¤ã€‚ä¸Šè¿°å‘½ä»¤åº”è¯¥æ˜¾ç¤ºæ”¯æŒçš„å­å‘½ä»¤åˆ—è¡¨ï¼Œä¾‹å¦‚
`deno compile`ã€‚è¦æŸ¥çœ‹ç‰¹å®šå­å‘½ä»¤çš„å¸®åŠ©ï¼Œä¾‹å¦‚ `compile`ï¼Œæ‚¨å¯ä»¥è¿è¡Œä»¥ä¸‹ä¹‹ä¸€ï¼š

```shell
deno help compile
deno compile -h
deno compile --help
```

æ¯ä¸ªå­å‘½ä»¤çš„è¯¦ç»†æŒ‡å—å¯ä»¥åœ¨[è¿™é‡Œ](../index.mdx)æ‰¾åˆ°ã€‚

## è„šæœ¬æ¥æº

Deno å¯ä»¥ä»å¤šä¸ªæ¥æºè·å–è„šæœ¬ï¼ŒåŒ…æ‹¬æ–‡ä»¶åã€URL å’Œ '-'
ä»¥ä»æ ‡å‡†è¾“å…¥è¯»å–æ–‡ä»¶ã€‚åè€…å¯¹äºä¸å…¶ä»–åº”ç”¨ç¨‹åºé›†æˆéå¸¸æœ‰ç”¨ã€‚

```shell
deno run main.ts
deno run https://mydomain.com/main.ts
cat main.ts | deno run -
```

## è„šæœ¬å‚æ•°

é™¤äº† Deno
è¿è¡Œæ—¶æ ‡å¿—ä¹‹å¤–ï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨è„šæœ¬åç§°ä¹‹åæŒ‡å®šå®ƒä»¬**ä¹‹å**æ¥ä¼ é€’ç”¨æˆ·ç©ºé—´å‚æ•°ç»™æ‚¨æ­£åœ¨è¿è¡Œçš„è„šæœ¬ï¼š

```shell
deno run main.ts a b -c --quiet
```

```ts
// main.ts
console.log(Deno.args); // [ "a", "b", "-c", "--quiet" ]
```

**è¯·æ³¨æ„ï¼Œåœ¨è„šæœ¬åç§°ä¹‹åä¼ é€’çš„ä»»ä½•å†…å®¹éƒ½å°†ä½œä¸ºè„šæœ¬å‚æ•°ä¼ é€’ï¼Œå¹¶ä¸ä¼šè¢«è§†ä¸º Deno
è¿è¡Œæ—¶æ ‡å¿—ã€‚** è¿™å¯¼è‡´äº†ä»¥ä¸‹é™·é˜±ï¼š

```shell
# å¥½çš„ã€‚æˆ‘ä»¬æˆäºˆ net æƒé™ç»™ net_client.tsã€‚
deno run --allow-net net_client.ts

# ä¸å¥½ï¼--allow-net è¢«ä¼ é€’ç»™ Deno.argsï¼Œå¼•å‘äº† net æƒé™é”™è¯¯ã€‚
deno run net_client.ts --allow-net
```

æœ‰äººè®¤ä¸ºï¼š

> ä¸€ä¸ªéä½ç½®æ ‡å¿—çš„è§£ææ–¹å¼å› å…¶ä½ç½®è€Œå¼‚å±äºä¸è§„èŒƒçš„ã€‚

ç„¶è€Œï¼š

1. è¿™æ˜¯åŒºåˆ†è¿è¡Œæ—¶æ ‡å¿—å’Œè„šæœ¬å‚æ•°çš„æœ€åˆä¹é€»è¾‘å’Œäººä½“å·¥ç¨‹å­¦çš„æ–¹å¼ã€‚
2. äº‹å®ä¸Šï¼Œè¿™ä¸ä»»ä½•å…¶ä»–æµè¡Œè¿è¡Œæ—¶çš„è¡Œä¸ºç›¸åŒã€‚
   - å°è¯• `node -c index.js` å’Œ `node index.js -c`ã€‚ç¬¬ä¸€ä¸ªåªä¼šå¯¹ `index.js` æ‰§è¡Œ
     Node çš„ `-c` æ ‡å¿—çš„è¯­æ³•æ£€æŸ¥ã€‚ç¬¬äºŒä¸ªå°†ä½¿ç”¨ `-c` æ‰§è¡Œ `index.js` ä¼ é€’ç»™
     `require("process").argv`ã€‚

---

å­˜åœ¨ä¸€äº›é€»è¾‘æ ‡å¿—ç»„ï¼Œå®ƒä»¬åœ¨ç›¸å…³å­å‘½ä»¤ä¹‹é—´å…±äº«ã€‚æˆ‘ä»¬å°†åœ¨ä¸‹é¢è®¨è®ºè¿™äº›æ ‡å¿—ã€‚

## è§‚å¯Ÿæ¨¡å¼

æ‚¨å¯ä»¥ä¸º `deno run`ã€`deno test`ã€`deno compile` å’Œ `deno fmt` æä¾› `--watch`
æ ‡å¿—ï¼Œä»¥å¯ç”¨å†…ç½®çš„æ–‡ä»¶ç›‘è§†å™¨ã€‚è¢«è§‚å¯Ÿçš„æ–‡ä»¶å–å†³äºæ‰€ä½¿ç”¨çš„å­å‘½ä»¤ï¼š

- å¯¹äº `deno run`ã€`deno test` å’Œ
  `deno compile`ï¼Œå…¥å£ç‚¹å’Œå…¥å£ç‚¹é™æ€å¯¼å…¥çš„æ‰€æœ‰æœ¬åœ°æ–‡ä»¶éƒ½å°†è¢«è§‚å¯Ÿã€‚
- å¯¹äº
  `deno fmt`ï¼Œæ‰€æœ‰æœ¬åœ°æ–‡ä»¶å’Œç›®å½•ï¼ˆæˆ–è€…å¦‚æœæœªä¼ é€’ç‰¹å®šæ–‡ä»¶/ç›®å½•ï¼Œåˆ™æ˜¯å·¥ä½œç›®å½•ï¼‰éƒ½å°†è¢«è§‚å¯Ÿã€‚

æ¯å½“ç£ç›˜ä¸Šçš„è¢«è§‚å¯Ÿæ–‡ä»¶ä¹‹ä¸€å‘ç”Ÿæ›´æ”¹æ—¶ï¼Œç¨‹åºå°†è‡ªåŠ¨é‡æ–°å¯åŠ¨/æ ¼å¼åŒ–/æµ‹è¯•/æ†ç»‘ã€‚

```shell
deno run --watch main.ts
deno test --watch
deno fmt --watch
```

## æ¨¡å—çƒ­æ›¿æ¢æ¨¡å¼

æ‚¨å¯ä»¥ä½¿ç”¨ `deno run` å‘½ä»¤çš„ `--unstable-hmr`
æ ‡å¿—å¯ç”¨æ¨¡å—çƒ­æ›¿æ¢æ¨¡å¼ã€‚ä¸é‡æ–°å¯åŠ¨ç¨‹åºä¸åŒï¼Œè¿è¡Œæ—¶å°†å°è¯•åœ¨åŸåœ°æ›´æ–°ç¨‹åºã€‚å¦‚æœåŸåœ°æ›´æ–°å¤±è´¥ï¼Œç¨‹åºä»å°†é‡æ–°å¯åŠ¨ã€‚

```shell
deno run --unstable-hmr main.ts
```

å½“è§¦å‘æ¨¡å—çƒ­æ›¿æ¢æ—¶ï¼Œè¿è¡Œæ—¶å°†å‘é€ä¸€ä¸ªç±»å‹ä¸º `hmr` çš„ `CustomEvent`ï¼Œå…¶ä¸­ `detail`
å¯¹è±¡ä¸­å°†åŒ…å« `path`
å±æ€§ã€‚æ‚¨å¯ä»¥ç›‘å¬æ­¤äº‹ä»¶ï¼Œå¹¶åœ¨æ¨¡å—æ›´æ–°æ—¶æ‰§è¡Œä»»ä½•é¢å¤–çš„é€»è¾‘ï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡ WebSocket
è¿æ¥é€šçŸ¥æµè§ˆå™¨ï¼‰ã€‚

```ts
addEventListener("hmr", (e) => {
  console.log("HMR triggered", e.detail.path);
});
```

## å®Œæ•´æ€§æ ‡å¿—ï¼ˆé”å®šæ–‡ä»¶ï¼‰

å½±å“å¯ä»¥å°†èµ„æºä¸‹è½½åˆ°ç¼“å­˜çš„å‘½ä»¤ï¼š`deno cache`ã€`deno run`ã€`deno test`ã€`deno doc`
å’Œ `deno compile`ã€‚

```terminal
--lock <FILE>    æ£€æŸ¥æŒ‡å®šçš„é”å®šæ–‡ä»¶
--lock-write     å†™å…¥é”å®šæ–‡ä»¶ã€‚ä¸ --lock ä¸€èµ·ä½¿ç”¨ã€‚
```

åœ¨[è¿™é‡Œ](../basics/modules/integrity_checking.md)äº†è§£æ›´å¤šã€‚

## ç¼“å­˜å’Œç¼–è¯‘æ ‡å¿—

å½±å“å¯ä»¥å¡«å……ç¼“å­˜çš„å‘½ä»¤ï¼š`deno cache`ã€`deno run`ã€`deno test`ã€`deno doc` å’Œ
`deno compile`ã€‚é™¤äº†ä¸Šé¢çš„æ ‡å¿—ä¹‹å¤–ï¼Œè¿˜åŒ…æ‹¬å½±å“æ¨¡å—è§£æã€ç¼–è¯‘é…ç½®ç­‰çš„æ ‡å¿—ã€‚

```terminal
--config <FILE>               åŠ è½½é…ç½®æ–‡ä»¶
--import-map <FILE>           åŠ è½½å¯¼å…¥æ˜ å°„æ–‡ä»¶
--no-remote                   ä¸è§£æè¿œç¨‹æ¨¡å—
--reload=<CACHE_BLOCKLIST>    é‡æ–°åŠ è½½æºä»£ç ç¼“å­˜ï¼ˆé‡æ–°ç¼–è¯‘TypeScriptï¼‰
--unstable                    å¯ç”¨ä¸ç¨³å®šçš„API
```

## è¿è¡Œæ—¶æ ‡å¿—

å½±å“æ‰§è¡Œç”¨æˆ·ä»£ç çš„å‘½ä»¤ï¼š`deno run` å’Œ
`deno test`ã€‚è¿™äº›åŒ…æ‹¬ä¸Šè¿°æ‰€æœ‰æ ‡å¿—ä»¥åŠä»¥ä¸‹æ ‡å¿—ã€‚

### ç±»å‹æ£€æŸ¥æ ‡å¿—

æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯¹ä»£ç è¿›è¡Œç±»å‹æ£€æŸ¥ï¼ˆè€Œä¸æ‰§è¡Œï¼‰ï¼š

```shell
> deno check main.ts
```

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ `deno run` çš„ `--check` å‚æ•°åœ¨æ‰§è¡Œä¹‹å‰å¯¹ä»£ç è¿›è¡Œç±»å‹æ£€æŸ¥ï¼š

```shell
> deno run --check main.ts
```

æ­¤æ ‡å¿—å½±å“ `deno run`ã€`deno eval`ã€`deno repl` å’Œ
`deno cache`ã€‚ä»¥ä¸‹è¡¨æ ¼æè¿°äº†å„ä¸ªå­å‘½ä»¤çš„ç±»å‹æ£€æŸ¥è¡Œä¸ºã€‚åœ¨è¿™é‡Œï¼Œ"æœ¬åœ°"æ„å‘³ç€ä»…æ¥è‡ªæœ¬åœ°ä»£ç çš„é”™è¯¯ä¼šå¼•èµ·ç±»å‹é”™è¯¯ï¼Œä»https
URLï¼ˆè¿œç¨‹ï¼‰å¯¼å…¥çš„æ¨¡å—å¯èƒ½

ä¼šæœ‰æœªæŠ¥å‘Šçš„ç±»å‹é”™è¯¯ã€‚ ï¼ˆè¦ä¸ºæ‰€æœ‰æ¨¡å—å¯ç”¨ç±»å‹æ£€æŸ¥ï¼Œè¯·ä½¿ç”¨ `--check=all`ã€‚ï¼‰

| å­å‘½ä»¤         | ç±»å‹æ£€æŸ¥æ¨¡å¼ |
| -------------- | ------------ |
| `deno bench`   | ğŸ“ æœ¬åœ°      |
| `deno cache`   | âŒ æ—         |
| `deno check`   | ğŸ“ æœ¬åœ°      |
| `deno compile` | ğŸ“ æœ¬åœ°      |
| `deno eval`    | âŒ æ—         |
| `deno repl`    | âŒ æ—         |
| `deno run`     | âŒ æ—         |
| `deno test`    | ğŸ“ æœ¬åœ°      |

### æƒé™æ ‡å¿—

è¿™äº›åˆ—åœ¨[è¿™é‡Œ](../basics/permissions.md#permissions-list)ã€‚

### å…¶ä»–è¿è¡Œæ—¶æ ‡å¿—

æ›´å¤šå½±å“æ‰§è¡Œç¯å¢ƒçš„æ ‡å¿—ã€‚

```terminal
--cached-only                è¦æ±‚è¿œç¨‹ä¾èµ–å·²ç»è¢«ç¼“å­˜
--inspect=<HOST:PORT>        åœ¨ä¸»æœº:ç«¯å£ä¸Šæ¿€æ´»æ£€æŸ¥å™¨...
--inspect-brk=<HOST:PORT>    åœ¨ä¸»æœº:ç«¯å£ä¸Šæ¿€æ´»æ£€æŸ¥å™¨å¹¶ä¸­æ–­...
--inspect-wait=<HOST:PORT>   åœ¨ä¸»æœº:ç«¯å£ä¸Šæ¿€æ´»æ£€æŸ¥å™¨å¹¶ç­‰å¾…...
--location <HREF>            ç”±ä¸€äº›Web APIä½¿ç”¨çš„ 'globalThis.location' çš„å€¼
--prompt                     å¦‚æœæ²¡æœ‰ä¼ é€’æ‰€éœ€æƒé™ï¼Œå›é€€åˆ°æç¤º
--seed <NUMBER>              ç§å­ Math.random()
--v8-flags=<v8-flags>        è®¾ç½®V8å‘½ä»¤è¡Œé€‰é¡¹ã€‚è·å–å¸®åŠ©: ...
```

## è‡ªåŠ¨å®Œæˆ

æ‚¨å¯ä»¥é€šè¿‡ [Fig](https://fig.io/) è·å– Deno çš„ IDE é£æ ¼è‡ªåŠ¨å®Œæˆ
<a href="https://fig.io/" target="_blank"><img src="https://fig.io/badges/Logo.svg" width="15" height="15"/></a>ã€‚å®ƒé€‚ç”¨äº
bashã€zsh å’Œ fishã€‚

è¦å®‰è£…ï¼Œè¯·è¿è¡Œï¼š

```shell
brew install fig
```
